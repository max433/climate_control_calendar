{
  "config": {
    "step": {
      "user": {
        "title": "Seleziona Calendari",
        "description": "Choose one or more calendar entities to monitor for climate control events.\n\n**Multi-Calendar Support**: You can select multiple calendars. Events from all calendars will be monitored simultaneously, with priority-based conflict resolution.\n\n**Examples**: Work calendar, personal calendar, vacation calendar, etc.\n\nCalendari disponibili: {calendar_count}",
        "data": {
          "calendar_entities": "Entità Calendario"
        }
      },
      "climate": {
        "title": "Seleziona Dispositivi Clima (Pool Globale)",
        "description": "Select climate devices that will be controlled by this integration.\n\n**Global Pool**: These devices form the default pool. You can later create specific bindings that target only certain devices.\n\n**Tip**: It's okay to leave this empty and configure device targeting in bindings instead.\n\nCalendari selezionati: {calendar_entities}\nDispositivi clima disponibili: {climate_count}",
        "data": {
          "climate_entities": "Entità Clima (opzionale)"
        }
      },
      "options": {
        "title": "Configurazione Iniziale",
        "description": "Configure basic operational settings. You can change these later in the integration options.\n\n**Dry Run Mode**: Enable this to test your configuration without actually changing climate device states.\n\n**Debug Mode**: Enable verbose logging for troubleshooting.\n\nCalendari: {calendar_entities}\nDispositivi clima: {climate_count}",
        "data": {
          "dry_run": "Modalità Dry Run (test senza applicare modifiche)",
          "debug_mode": "Modalità Debug (log dettagliati)"
        }
      }
    },
    "error": {
      "calendar_not_found": "Una o più entità calendario non sono state trovate",
      "no_calendars": "Nessuna entità calendario trovata in Home Assistant",
      "no_calendars_selected": "Seleziona almeno un calendario",
      "cannot_connect": "Impossibile connettersi all'entità calendario",
      "invalid_slot_id": "ID slot non valido",
      "invalid_binding_id": "ID binding non valido",
      "invalid_yaml": "Formato YAML non valido",
      "invalid_temperature": "La temperatura deve essere tra -50 e 50",
      "invalid_humidity": "L'umidità deve essere tra 0 e 100",
      "temp_range_invalid": "La temperatura minima deve essere inferiore alla temperatura massima",
      "temperature_conflict": "Non è possibile usare sia temperatura singola che intervallo - scegline uno",
      "no_climate_settings": "Configura almeno un'impostazione climatica (temperatura, modalità HVAC, ecc.)",
      "slot_not_found": "Slot non trovato",
      "binding_not_found": "Binding non trovato",
      "invalid_pattern": "Pattern di match non valido",
      "required": "Questo campo è obbligatorio",
      "above_or_below_required": "Almeno uno tra 'above' o 'below' deve essere specificato",
      "invalid_time_format": "L'orario deve essere nel formato HH:MM (es. 08:00)",
      "invalid_template": "Il template deve contenere i marcatori {{ }}",
      "unknown": "Errore imprevisto"
    },
    "abort": {
      "already_configured": "Questa combinazione di calendari è già configurata",
      "no_calendars": "Nessuna entità calendario disponibile. Installa e configura prima un'integrazione calendario."
    }
  },
  "options": {
    "step": {
      "init": {
        "title": "Gestione Configurazione",
        "description": "Manage all aspects of your Climate Control Calendar integration.\n\n**Configurazione Attuale:**\n• Calendari: {calendar_count}\n• Dispositivi Clima: {climate_count}\n• Slot: {slot_count}\n• Binding: {binding_count}\n\nSeleziona un'area di configurazione:",
        "menu_options": {
          "basic": "Impostazioni Base",
          "calendars": "Configurazione Calendari",
          "slots": "Gestione Slot",
          "bindings": "Gestione Binding",
          "yaml_editor": "Editor YAML (Avanzato)"
        }
      },
      "basic": {
        "title": "Impostazioni Base",
        "description": "Configura calendari, dispositivi clima globali e modalità operative.\n\n**Entità Calendario**: Aggiungi o rimuovi calendari da monitorare per gli eventi di controllo clima.\n\n**Pool Globale Clima**: Seleziona i dispositivi da controllare per impostazione predefinita. I singoli binding possono sostituire questa configurazione per puntare a dispositivi specifici.\n\n**Modalità Operative**: Configura le impostazioni dry run e debug.",
        "data": {
          "calendar_entities": "Entità Calendario",
          "climate_entities": "Pool Globale Entità Clima",
          "dry_run": "Modalità Dry Run (simula modifiche)",
          "debug_mode": "Modalità Debug (log dettagliati)"
        }
      },
      "calendars": {
        "title": "Configurazione Calendari",
        "description": "Configure individual calendar settings.\n\n**Enable/Disable**: Temporarily disable calendars without removing them.\n**Default Priority**: Set default priority for all bindings from this calendar (higher = more important).\n\n**Calendari Selezionati:**\n{calendar_list}",
        "data": {
          "calendar_id": "Calendario da Configurare"
        },
        "data_description": {
          "calendar_id": "Seleziona un calendario per configurare le sue impostazioni"
        }
      },
      "calendar_detail": {
        "title": "Configura: {calendar_name}",
        "description": "Adjust settings for this specific calendar.\n\n**Enabled**: Uncheck to temporarily ignore events from this calendar.\n**Default Priority**: Used when bindings don't specify their own priority. Higher values take precedence.\n**Description**: Optional note for this calendar.\n\nBinding attuali da questo calendario: {binding_count}",
        "data": {
          "enabled": "Abilitato",
          "default_priority": "Priorità Predefinita (0-100)",
          "description": "Descrizione (opzionale)"
        }
      },
      "slots": {
        "title": "Gestione Slot",
        "description": "Manage climate slots (reusable templates).\n\n**What are slots?** Slots define climate settings (temperature, HVAC mode, etc.) that can be activated by calendar events through bindings.\n\n**Slot Attuali:** {slot_count}\n\nSeleziona un'azione:",
        "menu_options": {
          "add_slot": "Aggiungi Nuovo Slot",
          "edit_slot": "Modifica Slot Esistente",
          "delete_slot": "Elimina Slot",
          "view_slots": "Visualizza Tutti gli Slot"
        }
      },
      "add_slot": {
        "title": "Aggiungi Nuovo Slot",
        "description": "Crea un nuovo template slot clima.\n\n**Struttura Slot:**\n• Label: Nome leggibile (richiesto)\n• Payload Clima Default: Impostazioni applicate a tutti i dispositivi\n• Range Temperatura: Per modalità heat_cool (opzionale)\n• Umidità: Per dispositivi con controllo umidità (opzionale)\n• Riscaldamento Ausiliario: Per pompe di calore con riscaldamento di backup (opzionale)\n• Entità Escluse: Salta determinati dispositivi (opzionale)\n\n**Supporto Template**: I campi temperatura e umidità supportano template Jinja2 per valori dinamici.\n\n**Esempio**: Label='Comfort', Temperatura=22 o {{ states('input_number.target') | float }}",
        "data": {
          "label": "Etichetta Slot",
          "temperature": "Temperatura (°C)",
          "target_temp_high": "Temperatura Massima (°C)",
          "target_temp_low": "Temperatura Minima (°C)",
          "hvac_mode": "Modalità HVAC",
          "preset_mode": "Modalità Preset",
          "humidity": "Umidità Target (%)",
          "aux_heat": "Riscaldamento Ausiliario",
          "excluded_entities": "Entità Escluse (opzionale)"
        },
        "data_description": {
          "label": "es. 'Comfort', 'Eco', 'Notte'",
          "temperature": "Valore statico (21.5) o template ({{ states('sensor.temp') | float + 2 }})",
          "target_temp_high": "Valore statico o template per modalità heat_cool (limite superiore)",
          "target_temp_low": "Valore statico o template per modalità heat_cool (limite inferiore)",
          "hvac_mode": "es. heat, cool, heat_cool, auto, off, dry",
          "preset_mode": "es. away, home, eco, boost",
          "humidity": "Valore statico (60) o template ({{ states('input_number.humidity') | int }})",
          "aux_heat": "Abilita riscaldamento ausiliario/backup (per pompe di calore)",
          "excluded_entities": "Entità clima da escludere da questo slot (non saranno controllate)"
        }
      },
      "edit_slot": {
        "title": "Modifica Slot",
        "description": "Select a slot to modify.\n\nSlot attuali: {slot_count}\n\n**Tip**: Use YAML Editor for bulk operations.",
        "data": {
          "slot_id": "Slot da Modificare"
        }
      },
      "edit_slot_detail": {
        "title": "Modifica: {slot_label}",
        "description": "Modifica le impostazioni dello slot.\n\n**Slot ID**: {slot_id}\n**Binding che usano questo slot**: {binding_count}\n\n**Supporto Template**: I campi temperatura e umidità supportano sia valori statici che template Jinja2.\n\n**Attenzione**: Le modifiche influenzano tutti i binding che usano questo slot.",
        "data": {
          "label": "Etichetta Slot",
          "temperature": "Temperatura (°C)",
          "target_temp_high": "Temperatura Massima (°C)",
          "target_temp_low": "Temperatura Minima (°C)",
          "hvac_mode": "Modalità HVAC",
          "preset_mode": "Modalità Preset",
          "humidity": "Umidità Target (%)",
          "aux_heat": "Riscaldamento Ausiliario",
          "excluded_entities": "Entità Escluse (opzionale)"
        },
        "data_description": {
          "label": "Nome leggibile per questo slot",
          "temperature": "Valore statico (21.5) o template ({{ states('sensor.temp') | float + 2 }})",
          "target_temp_high": "Valore statico o template per modalità heat_cool (limite superiore)",
          "target_temp_low": "Valore statico o template per modalità heat_cool (limite inferiore)",
          "humidity": "Valore statico (60) o template ({{ states('input_number.humidity') | int }})",
          "hvac_mode": "es. heat, cool, heat_cool, auto, off, dry",
          "preset_mode": "es. away, home, eco, boost",
          "aux_heat": "Abilita riscaldamento ausiliario/backup (per pompe di calore)",
          "excluded_entities": "Entità clima da escludere da questo slot (non saranno controllate)"
        }
      },
      "delete_slot": {
        "title": "Elimina Slot",
        "description": "Select a slot to remove.\n\n**Warning**: Bindings referencing this slot will fail until reconfigured.\n\nSlot attuali: {slot_count}",
        "data": {
          "slot_id": "Slot da Eliminare"
        }
      },
      "view_slots": {
        "title": "Tutti gli Slot",
        "description": "Current slot configuration:\n\n{slots_summary}\n\n**Tip**: Use the YAML Editor for advanced editing."
      },
      "bindings": {
        "title": "Gestione Binding",
        "description": "Manage event-to-slot bindings.\n\n**What are bindings?** Bindings connect calendar events to slots based on patterns (e.g., event summary matches 'Morning').\n\n**Binding Attuali:** {binding_count}\n\nSeleziona un'azione:",
        "menu_options": {
          "add_binding": "Aggiungi Nuovo Binding",
          "edit_binding": "Modifica Binding Esistente",
          "delete_binding": "Elimina Binding",
          "view_bindings": "Visualizza Tutti i Binding"
        }
      },
      "add_binding": {
        "title": "Aggiungi Nuovo Binding",
        "description": "Create a binding between calendar events and a slot.\n\n**Binding Structure:**\n• Calendars: Which calendar(s) to monitor (or * for all)\n• Match Pattern: How to identify events (summary, contains, regex)\n• Target Slot: Which slot to activate\n• Target Entities: Specific devices (optional, uses global pool if empty)\n• Priority: Conflict resolution (optional, uses calendar default)\n\n**Example**: Summary contains 'Morning' → Comfort slot",
        "data": {
          "calendars": "Filtro Calendario",
          "match_type": "Tipo di Match",
          "match_value": "Valore Match",
          "slot_id": "Slot Target",
          "priority": "Priorità (0-100, opzionale)",
          "target_entities": "Entità Target (opzionale)"
        },
        "data_description": {
          "calendars": "Seleziona calendario/i specifico/i oppure '*' per tutti",
          "match_type": "How to match events: summary (exact), summary_contains, regex",
          "match_value": "Pattern da cercare (es. 'Mattina', 'Lavoro', 'smart.*')",
          "slot_id": "Slot da attivare quando il pattern matcha",
          "priority": "Lascia vuoto per usare la priorità predefinita del calendario",
          "target_entities": "Limita il binding a specifiche entità clima (vuoto = usa il pool globale)"
        }
      },
      "edit_binding": {
        "title": "Modifica Binding",
        "description": "Select a binding to modify.\n\nBinding attuali: {binding_count}",
        "data": {
          "binding_id": "Binding da Modificare"
        }
      },
      "edit_binding_detail": {
        "title": "Modifica: {match_pattern}",
        "description": "Modify binding settings.\n\n**Binding ID**: {binding_id}\n\n**Note**: Changes to match pattern or calendars will affect when this binding is triggered.",
        "data": {
          "calendars": "Filtro Calendario",
          "match_type": "Tipo di Match",
          "match_value": "Valore Match",
          "slot_id": "Slot Target",
          "priority": "Priorità (0-100, opzionale)",
          "target_entities": "Entità Target (opzionale)"
        },
        "data_description": {
          "calendars": "Seleziona calendario/i specifico/i oppure '*' per tutti",
          "match_type": "How to match events: summary (exact), summary_contains, regex",
          "match_value": "Pattern da cercare (es. 'Mattina', 'Lavoro', 'smart.*')",
          "slot_id": "Slot da attivare quando il pattern matcha",
          "priority": "Lascia vuoto per usare la priorità predefinita del calendario",
          "target_entities": "Limita il binding a specifiche entità clima (vuoto = usa il pool globale)"
        }
      },
      "delete_binding": {
        "title": "Elimina Binding",
        "description": "Select a binding to remove.\n\nBinding attuali: {binding_count}",
        "data": {
          "binding_id": "Binding da Eliminare"
        }
      },
      "view_bindings": {
        "title": "Tutti i Binding",
        "description": "Current binding configuration:\n\n{bindings_summary}\n\n**Tip**: Use the YAML Editor for advanced editing."
      },
      "yaml_editor": {
        "title": "Editor YAML (Avanzato)",
        "description": "Edit configuration directly in YAML format.\n\n**⚠️ Advanced Feature**: Manual YAML editing. Invalid YAML will be rejected.\n\n**Sections Available:**\n• Slots\n• Bindings\n• Calendar Configs\n\n**Tip**: Export current config, edit externally, then import.",
        "menu_options": {
          "edit_slots_yaml": "Modifica Slot (YAML)",
          "edit_bindings_yaml": "Modifica Binding (YAML)",
          "edit_calendar_configs_yaml": "Modifica Config Calendari (YAML)"
        }
      },
      "edit_slots_yaml": {
        "title": "Modifica Slot (YAML)",
        "description": "**Configurazione Slot Attuale:**\n\n```yaml\n{current_yaml}\n```\n\n**Instructions:**\n1. Copy the YAML above\n2. Edit carefully (maintain structure)\n3. Paste back and submit\n4. Validation will run before saving\n\n**Note**: Syntax errors will prevent saving.",
        "data": {
          "yaml_content": "Configurazione YAML Slot"
        }
      },
      "edit_bindings_yaml": {
        "title": "Modifica Binding (YAML)",
        "description": "**Configurazione Binding Attuale:**\n\n```yaml\n{current_yaml}\n```\n\n**Istruzioni:**\n1. Copia il YAML sopra\n2. Modifica con attenzione (mantieni la struttura)\n3. Incolla e invia\n4. La validazione verrà eseguita prima del salvataggio\n\n**Supporto Condizioni** (Opzionale):\nAggiungi il campo `conditions` ai binding per attivazione intelligente. Tutte le condizioni devono passare (logica AND).\n\n**Tipi Supportati:**\n• `state`: Verifica stato entità\n• `numeric_state`: Confronto numerico (above/below)\n• `time`: Fascia oraria e giorni settimana\n• `template`: Logica personalizzata Jinja2\n\n**Esempio con Condizioni:**\n```yaml\n- id: binding123\n  calendars: '*'\n  match:\n    type: summary_contains\n    value: WFH\n  conditions:\n    - type: numeric_state\n      entity_id: sensor.external_temp\n      below: 15\n    - type: state\n      entity_id: binary_sensor.window\n      state: 'off'\n    - type: time\n      after: '08:00'\n      before: '18:00'\n      weekday: [mon, tue, wed, thu, fri]\n  slot_id: comfort_slot\n  priority: 10\n```\n\n**Nota**: Errori di sintassi impediranno il salvataggio.",
        "data": {
          "yaml_content": "Configurazione YAML Binding"
        }
      },
      "edit_calendar_configs_yaml": {
        "title": "Modifica Config Calendari (YAML)",
        "description": "**Configurazione Calendari Attuale:**\n\n```yaml\n{current_yaml}\n```\n\n**Instructions:**\n1. Copy the YAML above\n2. Edit carefully (maintain structure)\n3. Paste back and submit\n4. Validation will run before saving\n\n**Note**: Syntax errors will prevent saving.",
        "data": {
          "yaml_content": "Configurazione YAML Calendari"
        }
      },
      "binding_conditions_choice": {
        "title": "Aggiungi Condizioni (Opzionale)",
        "description": "**Le Condizioni** permettono l'attivazione smart del binding basata su sensori, orari o logica personalizzata.\n\n**Stato Attuale:** {condition_count} condizione/i configurata/e.\n\nLe condizioni vengono valutate ogni 60 secondi. Tutte le condizioni devono essere soddisfatte (logica AND) perché il binding si attivi.\n\n**Casi d'uso:**\n• Attiva riscaldamento solo se temp esterna < 15°C\n• Abilita slot solo quando le finestre sono chiuse\n• Attivazione basata su orario (ore lavorative, giorni della settimana)\n• Logica complessa via template\n\n**Limite GUI:** Fino a 5 condizioni. Per scenari più complessi, usa l'editor YAML.",
        "data": {
          "add_conditions": "Configurare Condizioni?"
        }
      },
      "select_condition_type": {
        "title": "Seleziona Tipo Condizione",
        "description": "Scegli il tipo di condizione da aggiungere.\n\n**Tipi Disponibili:**\n\n• **State**: Verifica se un'entità ha uno stato specifico (es. finestra = 'off')\n• **Numeric State**: Confronta valori numerici di sensori (es. temp < 15)\n• **Time**: Filtri su range orario e giorni della settimana (es. 08:00-18:00, Lun-Ven)\n• **Template**: Logica Jinja2 personalizzata per condizioni complesse",
        "data": {
          "condition_type": "Tipo Condizione"
        }
      },
      "configure_state_condition": {
        "title": "Configura Condizione State",
        "description": "Verifica se un'entità ha uno stato specifico.\n\n**Esempi:**\n• Finestra chiusa: entity = binary_sensor.window, state = 'off'\n• Presenza rilevata: entity = binary_sensor.motion, state = 'on'\n• Modalità attiva: entity = input_boolean.vacation_mode, state = 'off'",
        "data": {
          "entity_id": "Entità",
          "state": "Stato Richiesto"
        },
        "data_description": {
          "entity_id": "Entità da verificare (qualsiasi dominio)",
          "state": "Valore stato atteso (es. 'on', 'off', 'home')"
        }
      },
      "configure_numeric_state_condition": {
        "title": "Configura Condizione Numeric State",
        "description": "Confronta il valore numerico di un'entità con soglie.\n\n**Esempi:**\n• Temp esterna < 15°C: entity = sensor.outdoor_temp, below = 15\n• Batteria scarica: entity = sensor.battery, below = 20\n• Range umidità: entity = sensor.humidity, above = 30, below = 70\n\n**Nota:** È richiesto almeno uno tra 'above' o 'below'.",
        "data": {
          "entity_id": "Entità Sensore",
          "above": "Superiore a (opzionale)",
          "below": "Inferiore a (opzionale)"
        },
        "data_description": {
          "entity_id": "Sensore numerico da verificare",
          "above": "Il valore deve essere maggiore di questo (lascia vuoto se non necessario)",
          "below": "Il valore deve essere minore di questo (lascia vuoto se non necessario)"
        }
      },
      "configure_time_condition": {
        "title": "Configura Condizione Time",
        "description": "Attiva solo durante specifici range orari e/o giorni della settimana.\n\n**Esempi:**\n• Ore lavorative: after = 08:00, before = 18:00, weekday = [mon, tue, wed, thu, fri]\n• Solo notte: after = 22:00, before = 07:00\n• Weekend: weekday = [sat, sun]\n\n**Formato Orario:** HH:MM (formato 24 ore)",
        "data": {
          "after": "Dopo (HH:MM, opzionale)",
          "before": "Prima (HH:MM, opzionale)",
          "weekday": "Giorni della Settimana (opzionale)"
        },
        "data_description": {
          "after": "Orario inizio (es. 08:00)",
          "before": "Orario fine (es. 18:00)",
          "weekday": "Attivo solo in questi giorni della settimana"
        }
      },
      "configure_template_condition": {
        "title": "Configura Condizione Template",
        "description": "Usa template Jinja2 per logica personalizzata complessa.\n\n**Esempi:**\n\n**Sensori multipli:**\n```\n{{ states('sensor.outdoor_temp')|float < 15 and\n   states('binary_sensor.window')|string == 'off' }}\n```\n\n**Delta temperatura:**\n```\n{{ (states('sensor.indoor_temp')|float - states('sensor.outdoor_temp')|float) < 5 }}\n```\n\n**Conteggio entità:**\n```\n{{ states.binary_sensor\n   | selectattr('state', 'eq', 'on')\n   | selectattr('entity_id', 'search', 'window')\n   | list | count == 0 }}\n```\n\n**Il template deve restituire True/False**",
        "data": {
          "value_template": "Template Jinja2"
        },
        "data_description": {
          "value_template": "Template che restituisce True/False"
        }
      },
      "conditions_summary": {
        "title": "Riepilogo Condizioni",
        "description": "**Condizioni Configurate ({condition_count}):**\n\n{summary}\n\n**Promemoria:** Tutte le condizioni devono essere soddisfatte (logica AND) perché il binding si attivi.\n\n**Prossimi Passi:**\n• Aggiungi altre condizioni (fino a 5 via GUI)\n• Rimuovi ultima condizione se necessario\n• Salva binding con condizioni attuali\n• Usa editor YAML per >5 condizioni",
        "data": {
          "action": "Cosa vuoi fare?"
        }
      }
    }
  },
  "services": {
    "add_slot": {
      "name": "Aggiungi Slot",
      "description": "Add a new time slot with temperature and mode settings. Slots are automatically validated for overlaps.",
      "fields": {
        "label": {
          "name": "Etichetta",
          "description": "Descriptive name for this slot (e.g., 'Morning Comfort', 'Work Hours')."
        },
        "time_start": {
          "name": "Ora Inizio",
          "description": "Start time in HH:MM format (e.g., '06:00')."
        },
        "time_end": {
          "name": "Ora Fine",
          "description": "End time in HH:MM format (e.g., '09:00'). For overnight slots, use times like '23:00' to '02:00'."
        },
        "days": {
          "name": "Giorni della Settimana",
          "description": "List of days when this slot is active. Default: all days."
        },
        "climate_payload": {
          "name": "Impostazioni Clima",
          "description": "Climate settings to apply (temperature, hvac_mode, preset_mode, etc.). At least one field required."
        }
      }
    },
    "remove_slot": {
      "name": "Rimuovi Slot",
      "description": "Remove an existing time slot by its ID.",
      "fields": {
        "slot_id": {
          "name": "ID Slot",
          "description": "ID of the slot to remove. Find slot IDs in logs when adding slots."
        }
      }
    }
  }
}
